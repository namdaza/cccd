<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CCCD âœ Há»£p Ä‘á»“ng thuÃª nhÃ  (AI Gemini)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<header class="topbar">
  <div class="brand">
    <div class="logo">ğŸ </div>
    <div class="titles">
      <h1>Há»£p Ä‘á»“ng thuÃª nhÃ </h1>
      <p>TrÃ­ch xuáº¥t tá»« CCCD/Passport báº±ng <span class="gemini">Gemini 2.0 Flash</span></p>
    </div>
  </div>
  <div class="actions">
    <button id="btnExtract" class="primary">TrÃ­ch xuáº¥t báº±ng AI</button>
    <button id="btnDownload" class="ghost">Táº£i há»£p Ä‘á»“ng (PNG)</button>
  </div>
</header>

<main class="grid">
  <section class="card">
    <h2>1) CCCD / Passport</h2>
    <p class="muted">Táº£i áº£nh máº·t trÆ°á»›c (Æ°u tiÃªn áº£nh rÃµ nÃ©t). CÃ³ thá»ƒ kÃ©oâ€‘tháº£ vÃ o khung dÆ°á»›i.</p>

    <div id="dropzone" class="dropzone">
      <input id="fileInput" type="file" accept="image/*" hidden />
      <div id="dzContent" class="dz-content">
        <div class="dz-icon">ğŸ“„</div>
        <div>
          <strong>KÃ©o áº£nh vÃ o Ä‘Ã¢y</strong>
          <div class="muted">hoáº·c</div>
          <button id="btnPick" class="ghost small">Chá»n file áº£nh</button>
        </div>
      </div>
      <canvas id="cccdCanvas" class="hidden"></canvas>
      <img id="cccdPreview" class="hidden" alt="CCCD preview"/>
      <div id="drawHint" class="hint hidden">KÃ©o chuá»™t Ä‘á»ƒ khoanh vÃ¹ng áº£nh chÃ¢n dung (cÃ³ thá»ƒ bá» qua, AI sáº½ tá»± phÃ¡t hiá»‡n).</div>
    </div>

    <div class="toolbar">
      <label class="switch">
        <input type="checkbox" id="toggleDraw" />
        <span></span>
      </label>
      <span>Báº­t váº½ khung cáº¯t áº£nh chÃ¢n dung</span>
      <button id="btnUseAICrop" class="ghost">DÃ¹ng khung AI</button>
      <button id="btnClearCrop" class="ghost">XÃ³a khung</button>
    </div>

    <div class="kv">
      <div><span>Loáº¡i giáº¥y tá»:</span><strong id="fld_id_type">â€”</strong></div>
      <div><span>Sá»‘ giáº¥y tá»:</span><strong id="fld_id_number">â€”</strong></div>
      <div><span>Há» tÃªn:</span><strong id="fld_full_name">â€”</strong></div>
      <div><span>NgÃ y sinh:</span><strong id="fld_dob">â€”</strong></div>
      <div><span>Giá»›i tÃ­nh:</span><strong id="fld_sex">â€”</strong></div>
      <div><span>NgÃ y cáº¥p:</span><strong id="fld_issue_date">â€”</strong></div>
      <div><span>NÆ¡i ÄKTT/Äá»‹a chá»‰:</span><strong id="fld_address">â€”</strong></div>
    </div>
  </section>

  <section class="card">
    <h2>2) Há»£p Ä‘á»“ng Ä‘Ã£ Ä‘iá»n</h2>
    <p class="muted">Xem trÆ°á»›c há»£p Ä‘á»“ng. CÃ³ thá»ƒ táº£i vá» PNG (hoáº·c PDF trong README).</p>
    <div class="contract-wrap">
      <canvas id="contractCanvas"></canvas>
    </div>
  </section>
</main>

<footer class="footer">
  <div>
    <span class="muted">Tip:</span> Cháº¡y backend <code>server.py</code> vÃ  Ä‘áº·t biáº¿n mÃ´i trÆ°á»ng <code>GEMINI_API_KEY</code>. 
    Hoáº·c (khÃ´ng khuyáº¿n nghá»‹) Ä‘iá»n key trá»±c tiáº¿p trong <code>config.js</code>.
  </div>
  <div>
    <a href="https://ai.google.dev/" target="_blank" rel="noreferrer">TÃ i liá»‡u Gemini</a>
  </div>
</footer>

<script src="config.js"></script>
<script src="script.js"></script>
</body>
</html>
